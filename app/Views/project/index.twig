{% extends "layout/main.twig" %}

{% block content %}
  <section class="p-8">
    <h2 class="text-3xl font-bold mb-6 text-gray-800">{{ title }}</h2>

    <a href="{{ base_url ~ 'projects/create' }}" 
       class="inline-block bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition">
      Créer un projet
    </a>

    <table class="w-full mt-6 border-collapse bg-white rounded-lg shadow">
      <thead>
        <tr class="bg-gray-100 text-left">
          <th class="py-3 px-4">ID</th>
          <th class="py-3 px-4">Nom du projet</th>
          <th class="py-3 px-4">Description</th>
          <th class="py-3 px-4">Date de création</th>
        </tr>
      </thead>
      <tbody>
        {% for project in projects %}
          <tr class="border-t hover:bg-gray-50">
            <td class="py-2 px-4">{{ project.id }}</td>
            <td class="py-2 px-4 font-semibold">{{ project.name }}</td>
            <td class="py-2 px-4">{{ project.description }}</td>
            <td class="py-2 px-4 text-gray-500">{{ project.created_at | date('d/m/Y') }}</td>
          </tr>
        {% else %}
          <tr>
            <td colspan="4" class="text-center text-gray-400 py-6">
              Aucun projet trouvé.
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </section>
{% endblock %}
